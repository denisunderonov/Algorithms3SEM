"""Демонстрация решения задачи Коммивояжёра (TSP) методом Held-Karp (ЛР20).

Запуск покажет точный минимальный цикл и его длину для маленьких n (например, n<=12).
"""
from tsp_held_karp import held_karp
import math


def demo():
    # Пример: симметричная матрица расстояний между 4 городами
    mat = [
        [0, 10, 15, 20],
        [10, 0, 35, 25],
        [15, 35, 0, 30],
        [20, 25, 30, 0],
    ]

    print("Матрица расстояний:")
    for row in mat:
        print(row)

    cost, path = held_karp(mat, start=0)
    if cost == math.inf:
        print("Гамильтонов цикл не найден (возможно, граф несвязный или отсутствуют некоторые рёбра).")
    else:
        print(f"\nМинимальная длина цикла: {cost}")
        print(f"Маршрут: {path}")


if __name__ == "__main__":
    demo()
