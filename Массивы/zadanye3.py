print("–°–æ–∑–¥–∞–Ω–∏–µ —É–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω–æ–≥–æ –º–∞—Å—Å–∏–≤–∞")

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ –º–∞—Å—Å–∏–≤–∞
while True:
    try:
        size = int(input("–í–≤–µ–¥–∏—Ç–µ —Ä–∞–∑–º–µ—Ä –º–∞—Å—Å–∏–≤–∞: "))
        if size <= 0:
            print("‚ùå –†–∞–∑–º–µ—Ä –º–∞—Å—Å–∏–≤–∞ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–º —á–∏—Å–ª–æ–º!")
            continue
        break
    except ValueError:
        print("‚ùå –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ!")

arr = []
print("–í–≤–µ–¥–∏—Ç–µ —ç–ª–µ–º–µ–Ω—Ç—ã –º–∞—Å—Å–∏–≤–∞ –≤ —É–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω–æ–º –≤–∏–¥–µ (–æ—Ç –º–µ–Ω—å—à–µ–≥–æ –∫ –±–æ–ª—å—à–µ–º—É):")

# –í–≤–æ–¥ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π —É–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω–æ—Å—Ç–∏
for i in range(size):
    while True:
        try:
            element = int(input(f"–≠–ª–µ–º–µ–Ω—Ç {i+1}: "))
            
            # –ü—Ä–æ–≤–µ—Ä–∫–∞ —É–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω–æ—Å—Ç–∏ (–∫–∞–∂–¥—ã–π —Å–ª–µ–¥—É—é—â–∏–π —ç–ª–µ–º–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å >= –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ)
            if i > 0 and element < arr[i-1]:
                print(f"‚ùå –û—à–∏–±–∫–∞! –ú–∞—Å—Å–∏–≤ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω—ã–º.")
                print(f"   –ü—Ä–µ–¥—ã–¥—É—â–∏–π —ç–ª–µ–º–µ–Ω—Ç: {arr[i-1]}, —Ç–µ–∫—É—â–∏–π: {element}")
                print("   –í–≤–µ–¥–∏—Ç–µ —ç–ª–µ–º–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –±–æ–ª—å—à–µ –∏–ª–∏ —Ä–∞–≤–µ–Ω –ø—Ä–µ–¥—ã–¥—É—â–µ–º—É")
                continue
                
            arr.append(element)
            break
        except ValueError:
            print("‚ùå –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ!")

print("‚úÖ –í–∞—à —É–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω—ã–π –º–∞—Å—Å–∏–≤:", arr)

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ü–µ–ª–æ–≥–æ —á–∏—Å–ª–∞ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
def get_integer_input(prompt):
    while True:
        try:
            return int(input(prompt))
        except ValueError:
            print("‚ùå –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ!")

while True:
    print("\n" + "="*40)
    print("–í–´–ë–ï–†–ò–¢–ï –û–ü–ï–†–ê–¶–ò–Æ:")
    print("1 - –õ–∏–Ω–µ–π–Ω—ã–π –ø–æ–∏—Å–∫")
    print("2 - –ë–∏–Ω–∞—Ä–Ω—ã–π –ø–æ–∏—Å–∫") 
    print("3 - –í—Å—Ç–∞–≤–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–∞")
    print("4 - –£–¥–∞–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞")
    print("5 - –ü–æ–∫–∞–∑–∞—Ç—å –º–∞—Å—Å–∏–≤")
    print("6 - –í—ã—Ö–æ–¥")
    print("="*40)
    
    choice = input("–í–∞—à –≤—ã–±–æ—Ä (1-6): ").strip()
    
    if choice == '1':
        # –õ–∏–Ω–µ–π–Ω—ã–π –ø–æ–∏—Å–∫
        value = get_integer_input("–í–≤–µ–¥–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –ø–æ–∏—Å–∫–∞: ")
        positions = []
        
        for i in range(len(arr)):
            if arr[i] == value:
                positions.append(i)
        
        if len(positions) > 0:
            print(f"‚úÖ –≠–ª–µ–º–µ–Ω—Ç {value} –Ω–∞–π–¥–µ–Ω –Ω–∞ –ø–æ–∑–∏—Ü–∏—è—Ö: {positions}")
        else:
            print(f"‚ùå –≠–ª–µ–º–µ–Ω—Ç {value} –Ω–µ –Ω–∞–π–¥–µ–Ω")
    
    elif choice == '2':
        # –ë–∏–Ω–∞—Ä–Ω—ã–π –ø–æ–∏—Å–∫
        value = get_integer_input("–í–≤–µ–¥–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –ø–æ–∏—Å–∫–∞: ")
        positions = []

        left = 0
        right = len(arr) - 1
        found_index = -1
        
        # –ë–∏–Ω–∞—Ä–Ω—ã–π –ø–æ–∏—Å–∫ –ø–µ—Ä–≤–æ–≥–æ –≤—Ö–æ–∂–¥–µ–Ω–∏—è
        while left <= right:
            middle = (left + right) // 2
            if arr[middle] == value:
                found_index = middle
                break
            elif arr[middle] < value:
                left = middle + 1
            else:
                right = middle - 1
        
        if found_index != -1:
            # –ù–∞—Ö–æ–¥–∏–º –≤—Å–µ –≤—Ö–æ–∂–¥–µ–Ω–∏—è (–≤ —É–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω–æ–º –º–∞—Å—Å–∏–≤–µ –æ–Ω–∏ –∏–¥—É—Ç –ø–æ–¥—Ä—è–¥)
            positions.append(found_index)
            
            # –ò—â–µ–º –≤–ª–µ–≤–æ
            i = found_index - 1
            while i >= 0 and arr[i] == value:
                positions.append(i)
                i -= 1
            
            # –ò—â–µ–º –≤–ø—Ä–∞–≤–æ
            i = found_index + 1
            while i < len(arr) and arr[i] == value:
                positions.append(i)
                i += 1
            
            positions.sort()
            print(f"‚úÖ –≠–ª–µ–º–µ–Ω—Ç {value} –Ω–∞–π–¥–µ–Ω –Ω–∞ –ø–æ–∑–∏—Ü–∏—è—Ö: {positions}")
        else:
            print(f"‚ùå –≠–ª–µ–º–µ–Ω—Ç {value} –Ω–µ –Ω–∞–π–¥–µ–Ω")
    
    elif choice == '3':
        # –í—Å—Ç–∞–≤–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–∞ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –ø–æ—Ä—è–¥–∫–∞
        value = get_integer_input("–í–≤–µ–¥–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏: ")

        # –ù–∞—Ö–æ–¥–∏–º –ø–æ–∑–∏—Ü–∏—é –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏
        insert_position = 0
        for i in range(len(arr)):
            if arr[i] < value:
                insert_position = i + 1
            else:
                break

        arr.insert(insert_position, value)
        print(f"‚úÖ –≠–ª–µ–º–µ–Ω—Ç {value} –≤—Å—Ç–∞–≤–ª–µ–Ω –Ω–∞ –ø–æ–∑–∏—Ü–∏—é {insert_position}")
        print("–ú–∞—Å—Å–∏–≤ –ø–æ—Å–ª–µ –≤—Å—Ç–∞–≤–∫–∏:", arr)
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –º–∞—Å—Å–∏–≤ –æ—Å—Ç–∞–ª—Å—è —É–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω—ã–º
        is_sorted = arr == sorted(arr)
        if not is_sorted:
            print("‚ö†Ô∏è  –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: –º–∞—Å—Å–∏–≤ –Ω–∞—Ä—É—à–∏–ª —É–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω–æ—Å—Ç—å!")
            arr.sort()
            print("–ú–∞—Å—Å–∏–≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω:", arr)
    
    elif choice == '4':
        # –£–¥–∞–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞
        value = get_integer_input("–í–≤–µ–¥–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è: ")
        new_arr = []
        deleted_count = 0
        
        for i in range(len(arr)):
            if arr[i] != value:
                new_arr.append(arr[i])
            else:
                deleted_count += 1
        
        if deleted_count > 0:
            arr = new_arr
            print(f"‚úÖ –£–¥–∞–ª–µ–Ω–æ {deleted_count} —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º {value}")
            print("–ú–∞—Å—Å–∏–≤ –ø–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è:", arr)
        else:
            print(f"‚ùå –≠–ª–µ–º–µ–Ω—Ç {value} –Ω–µ –Ω–∞–π–¥–µ–Ω")
    
    elif choice == '5':
        # –ü–æ–∫–∞–∑–∞—Ç—å –º–∞—Å—Å–∏–≤
        print("üìä –¢–µ–∫—É—â–∏–π –º–∞—Å—Å–∏–≤:", arr)
        print(f"–†–∞–∑–º–µ—Ä –º–∞—Å—Å–∏–≤–∞: {len(arr)} —ç–ª–µ–º–µ–Ω—Ç–æ–≤")
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º —É–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω–æ—Å—Ç—å
        is_sorted = arr == sorted(arr)
        print(f"–°–æ—Å—Ç–æ—è–Ω–∏–µ —É–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω–æ—Å—Ç–∏: {'‚úÖ –£–ü–û–†–Ø–î–û–ß–ï–ù' if is_sorted else '‚ùå –ù–ê–†–£–®–ï–ù–ê'}")
    
    elif choice == '6':
        # –í—ã—Ö–æ–¥
        print("\n" + "="*40)
        print("–ò—Ç–æ–≥–æ–≤—ã–π –º–∞—Å—Å–∏–≤:", arr)
        
        # –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —É–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω–æ—Å—Ç–∏
        is_sorted = arr == sorted(arr)
        if is_sorted:
            print("‚úÖ –ú–∞—Å—Å–∏–≤ —Å–æ—Ö—Ä–∞–Ω–∏–ª —É–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω–æ—Å—Ç—å")
        else:
            print("‚ö†Ô∏è  –ú–∞—Å—Å–∏–≤ –Ω–∞—Ä—É—à–∏–ª —É–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω–æ—Å—Ç—å –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ —Ä–∞–±–æ—Ç—ã")
            arr.sort()
            print("–ú–∞—Å—Å–∏–≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω:", arr)
            
        print("–ü—Ä–æ–≥—Ä–∞–º–º–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!")
        print("="*40)
        break
    
    else:
        print("‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π –≤—ã–±–æ—Ä! –í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ –æ—Ç 1 –¥–æ 6")